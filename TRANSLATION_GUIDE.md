# 翻译功能使用指南

## 功能概述

✅ **翻译按钮**: 在每个提示词输入框标题右侧添加了"翻译"文字按钮
✅ **自动翻译**: 输入末尾连续三个空格可自动触发翻译
✅ **全模型支持**: 适用于 ChatGPT-5、Nano Banana、ModelScope 所有提示词框
✅ **友好提示**: 翻译成功/失败的动态提示消息

## 使用方法

### 方法1: 点击翻译按钮
1. 在任意提示词输入框中输入中文文本
2. 点击输入框标题右侧的"翻译"按钮
3. 系统自动翻译并在原位置替换为英文

### 方法2: 三空格自动翻译
1. 在任意提示词输入框中输入中文文本
2. 在文本末尾连续输入三个空格
3. 系统自动移除三个空格并翻译文本
4. 翻译结果替换原文本

## 技术实现

### 前端功能
- **HTML**: 为所有提示词框标题添加翻译按钮
- **CSS**: 精美的翻译按钮样式，支持主题切换
- **JavaScript**: 翻译逻辑、错误处理、用户反馈

### 后端集成
- **百度翻译API**: 集成百度翻译服务
- **环境变量**: 使用 `BAIDUFANYI_API_KEY` 提供API密钥
- **错误处理**: 完善的错误分类和用户友好的提示

## 配置要求

### 百度翻译API设置
1. **注册账号**: 访问 [百度翻译开放平台](https://fanyi-api.baidu.com/)
2. **创建应用**: 
   - 创建翻译应用
   - 获取 App ID 和密钥
3. **环境变量**: 
   ```bash
   export BAIDUFANYI_API_KEY="你的AppID"
   # 注意：这里只设置AppID，密钥内置在后端代码中
   ```

### 免费额度
- **百度翻译**: 每月200万字符免费额度
- **超额收费**: 按字符数计费，成本较低

## 错误提示说明

| 错误类型 | 显示信息 | 说明 |
|---------|---------|------|
| 成功 | "翻译成功" | 文本已成功翻译并替换 |
| 网络错误 | "翻译失败：网络连接问题" | 网络超时或连接失败 |
| API配额 | "翻译失败：API配额不足" | 免费额度用完或超限 |
| API密钥 | "翻译失败：API密钥错误" | API配置问题 |
| 系统错误 | "翻译失败：系统错误" | 百度翻译服务器问题 |
| 输入错误 | "请先输入要翻译的文本" | 文本框为空时点击翻译 |

## 支持的翻译方向

- **中文 → 英文**: 主要功能，适用于AI图像生成
- **可扩展**: 代码架构支持其他语言对
- **专业术语**: 百度翻译在AI术语方面有较好支持

## 技术特性

- **异步翻译**: 不阻塞界面操作
- **状态管理**: 翻译按钮在翻译过程中显示"翻译中..."状态
- **错误恢复**: 翻译失败时按钮状态自动恢复
- **兼容性**: 支持深色/浅色主题，响应式设计

## 注意事项

1. **百度API密钥**: 确保在环境变量中正确设置 `BAIDUFANYI_API_KEY`
2. **网络连接**: 翻译功能需要稳定的网络连接
3. **API配额**: 注意监控百度翻译的API使用量
4. **隐私**: 翻译内容会发送到百度翻译服务器处理

## 使用示例

### 输入示例
```
中文输入: 一只穿着超级英雄斗篷的猫，电影级灯光，4K分辨率
```

### 输出示例  
```
英文输出: A cat wearing a superhero cape, cinematic lighting, 4K resolution
```

### 错误处理示例
```
输入: 空文本
输出: 请先输入要翻译的文本

输入: 网络超时
输出: 翻译失败：网络连接问题

输入: API配额不足  
输出: 翻译失败：API配额不足
```

---

💡 **提示**: 翻译功能设计为提升AI图像生成的效率，将中文提示词快速转换为英文，优化生成效果。